# ๐ ูุธุงู ุฅุถุงูุฉ ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ ูู Sabq AI CMS

## ๐ ุงูููุฑุณ
1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ](#ุงูุชุตูููุงุช-ุงูุฃุณุงุณูุฉ)
3. [ุงูุจููุฉ ุงูุชูููุฉ](#ุงูุจููุฉ-ุงูุชูููุฉ)
4. [ุทุฑููุฉ ุงูุชูููุฐ](#ุทุฑููุฉ-ุงูุชูููุฐ)
5. [ุงูุชุญูู ูู ุงููุชุงุฆุฌ](#ุงูุชุญูู-ูู-ุงููุชุงุฆุฌ)
6. [ุญู ุงููุดุงูู](#ุญู-ุงููุดุงูู)

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู Seed ูุชูุงูู ูุฅุถุงูุฉ ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ ุงูุซูุงููุฉ ูููุตุฉ ุณุจู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฅูุชุงุฌูุฉ (PlanetScale). ูุถูู ูุฐุง ุงููุธุงู:

- โ ุฅุถุงูุฉ ุงูุชุตูููุงุช ุจุดูู ุฏุงุฆู ูุขูู
- โ ุฏุนู ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ ุฏูู ููุฏุงู ุงูุจูุงูุงุช
- โ ุฅูุดุงุก ุญุณุงุจุงุช ุฅุฏุงุฑูุฉ ุฃุณุงุณูุฉ
- โ ุงูุชูุงูู ูุน Schema ุงูุญุงูู ููุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ

### ุฌุฏูู ุงูุชุตูููุงุช

| # | ุงูุงุณู ุจุงูุนุฑุจูุฉ | ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ | Slug | ุงูููู | ุงูุฃููููุฉ | ุงููุตู |
|---|---------------|-----------------|------|-------|---------|--------|
| 1 | ุชูููุฉ | Technology | technology | #8B5CF6 | ๐ป | ุฃุฎุจุงุฑ ูุชุทูุฑุงุช ุงูุชูููุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู |
| 2 | ุฑูุงุถุฉ | Sports | sports | #F59E0B | โฝ | ุฃุฎุจุงุฑ ุฑูุงุถูุฉ ูุญููุฉ ูุนุงูููุฉ |
| 3 | ุงูุชุตุงุฏ | Economy | economy | #10B981 | ๐ฐ | ุชูุงุฑูุฑ ุงูุณูู ูุงููุงู ูุงูุฃุนูุงู ูุงูุทุงูุฉ |
| 4 | ุณูุงุณุฉ | Politics | politics | #EF4444 | ๐๏ธ | ูุณุชุฌุฏุงุช ุงูุณูุงุณุฉ ุงููุญููุฉ ูุงูุฏูููุฉ ูุชุญูููุงุชูุง |
| 5 | ูุญููุงุช | Local | local | #3B82F6 | ๐บ๏ธ | ุฃุฎุจุงุฑ ุงูููุงุทู ูุงููุฏู ุงูุณุนูุฏูุฉ |
| 6 | ุซูุงูุฉ ููุฌุชูุน | Culture | culture | #EC4899 | ๐ญ | ูุนุงููุงุช ุซูุงููุฉุ ููุงุณุจุงุชุ ูุถุงูุง ุงุฌุชูุงุนูุฉ |
| 7 | ููุงูุงุช ุฑุฃู | Opinion | opinion | #7C3AED | โ๏ธ | ุชุญูููุงุช ููุฌูุงุช ูุธุฑ ูุชุงุจ ุงูุฑุฃู |
| 8 | ูููุนุงุช | Misc | misc | #6B7280 | ๐ | ุฃุฎุจุงุฑ ุฎูููุฉุ ููุทุงุชุ ุทุฑุงุฆู ูุฃุญุฏุงุซ ุบูุฑ ุชูููุฏูุฉ |

### ุงูุจูุงูุงุช ุงูุฅุถุงููุฉ ุงููุญููุธุฉ

ูุธุฑุงู ููุญุฏูุฏูุฉ Schema ุงูุญุงููุ ูุชู ุญูุธ ุงูุจูุงูุงุช ุงูุฅุถุงููุฉ ูู ุญูู `description` ูู JSON:

```json
{
  "ar": "ุงููุตู ุจุงูุนุฑุจูุฉ",
  "en": "ุงููุตู ุจุงูุฅูุฌููุฒูุฉ",
  "name_ar": "ุงูุงุณู ุจุงูุนุฑุจูุฉ",
  "name_en": "ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ",
  "color_hex": "#ููู_hex",
  "icon": "ุฃููููุฉ",
  "order": 1,
  "is_default": true
}
```

## ุงูุจููุฉ ุงูุชูููุฉ

### ุงููููุงุช ุงูุฃุณุงุณูุฉ

1. **`prisma/seed.ts`**
   - ููู TypeScript ูุญุชูู ุนูู ููุทู ุฅุถุงูุฉ ุงูุชุตูููุงุช
   - ูุณุชุฎุฏู Prisma Client ููุชูุงุตู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุทุจู ููุท upsert ูุชุฌูุจ ุงูุชูุฑุงุฑุงุช

2. **`scripts/seed-categories.sh`**
   - ุณูุฑูุจุช Shell ุชูุงุนูู
   - ูุชุญูู ูู ุงูุจูุฆุฉ ูุงูุชุซุจูุชุงุช
   - ูุทูุจ ุชุฃููุฏ ุงููุณุชุฎุฏู ูุจู ุงูุชูููุฐ
   - ูููุฑ ูุนูููุงุช ููุตูุฉ ุนู ุงูุนูููุฉ

### ุงูุชูุงูู ูุน Schema

ูุนูู ุงููุธุงู ูุน Schema ุงูุญุงูู:

```prisma
model Category {
  id            String   @id @default(cuid())
  name          String
  slug          String   @unique
  description   String?  @db.Text
  displayOrder  Int      @default(0)
  isActive      Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  articles      Article[]
}
```

## ุทุฑููุฉ ุงูุชูููุฐ

### ุงูุทุฑููุฉ ุงูุฃููู: ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช ุงูุชูุงุนูู (ููุตู ุจูุง)

```bash
# 1. ุฌุนู ุงูุณูุฑูุจุช ูุงุจูุงู ููุชูููุฐ
chmod +x scripts/seed-categories.sh

# 2. ุชุดุบูู ุงูุณูุฑูุจุช
./scripts/seed-categories.sh
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงูุชูููุฐ ุงููุจุงุดุฑ

```bash
# 1. ุชูููุฏ Prisma Client
npm run prisma:generate

# 2. ุชุดุบูู Seed
npm run prisma:seed
```

### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ููุจูุฆุงุช ุงูุฅูุชุงุฌูุฉ

```bash
# ุชุนููู ุงูุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ
export NODE_ENV=production

# ุชุดุบูู Seed
npm run prisma:seed
```

## ุงูุชุญูู ูู ุงููุชุงุฆุฌ

### 1. ุงุณุชุฎุฏุงู Prisma Studio

```bash
npm run prisma:studio
```

ุซู ุงูุชุญ ุงููุชุตูุญ ุนูู `http://localhost:5555` ูุชุญูู ูู ุฌุฏูู `Category`.

### 2. ุงุณุชุฎุฏุงู API

```bash
# ุฌูุจ ุฌููุน ุงูุชุตูููุงุช
curl http://localhost:3000/api/categories

# ุฌูุจ ุชุตููู ูุญุฏุฏ
curl http://localhost:3000/api/categories/technology
```

### 3. ุงูุชุญูู ูู ุงููุงุฌูุฉ

- ุงูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุชุญูู ูู ุธููุฑ ุงูุชุตูููุงุช
- ุชุญูู ูู ููุญุฉ ุงูุชุญูู `/dashboard/categories`

## ุญู ุงููุดุงูู

### ูุดููุฉ: ูุดู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
cat .env | grep DATABASE_URL

# ุชุฃูุฏ ูู ุตุญุฉ ุฑุงุจุท ุงูุงุชุตุงู
# ูุฌุจ ุฃู ูููู ุจุตูุบุฉ: mysql://username:password@host/database?ssl={"rejectUnauthorized":true}
```

### ูุดููุฉ: ุฎุทุฃ ูู Prisma Client

```bash
# ุฅุนุงุฏุฉ ุชูููุฏ Prisma Client
rm -rf node_modules/.prisma
rm -rf lib/generated/prisma
npm run prisma:generate
```

### ูุดููุฉ: ุงูุชุตูููุงุช ูุง ุชุธูุฑ ูู ุงููุงุฌูุฉ

1. ุชุญูู ูู ุฃู `isActive = true` ููุชุตูููุงุช
2. ุชุญูู ูู cache ุงููุชุตูุญ (ุฌุฑุจ ูุถุน Incognito)
3. ุฃุนุฏ ุชุดุบูู ุฎุงุฏู Next.js

### ูุดููุฉ: ุชูุฑุงุฑ ุงูุชุตูููุงุช

ุงููุธุงู ูุณุชุฎุฏู `upsert` ููุง ูููุน ุงูุชูุฑุงุฑุงุช ุชููุงุฆูุงู. ุฅุฐุง ูุงุฌูุช ูุดููุฉ:

```sql
-- ููุชุญูู ูู ุงูุชูุฑุงุฑุงุช
SELECT slug, COUNT(*) as count 
FROM Category 
GROUP BY slug 
HAVING count > 1;
```

## ุงูุตูุงูุฉ ุงููุณุชูุจููุฉ

### ุฅุถุงูุฉ ุชุตููู ุฌุฏูุฏ

1. ุฃุถู ุงูุชุตููู ุฅูู ูุตูููุฉ `categories` ูู `prisma/seed.ts`
2. ุดุบู `npm run prisma:seed`

### ุชุญุฏูุซ ุชุตููู ููุฌูุฏ

ุณูุชู ุงูุชุญุฏูุซ ุชููุงุฆูุงู ุนูุฏ ุชุดุบูู Seed ุจูุถู ุงุณุชุฎุฏุงู `upsert`.

### ุญุฐู ุชุตููู

ูููุตุญ ุจุชุนุทูู ุงูุชุตููู (`isActive = false`) ุจุฏูุงู ูู ุญุฐูู ููุญูุงุธ ุนูู ุณูุงูุฉ ุงูุจูุงูุงุช.

## ุงูุฃูุงู

- โ ุงูุชุตูููุงุช ูุญููุฉ ุจู `is_default = true`
- โ ูุง ูููู ุญุฐู ุงูุชุตูููุงุช ุงูุงูุชุฑุงุถูุฉ ูู ููุญุฉ ุงูุชุญูู
- โ ุงูุจูุงูุงุช ูุญููุธุฉ ูู PlanetScale ูุน ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ

## ุงูููุงุญุธุงุช ุงููุงูุฉ

1. **ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ**: ูุฌุจ ุชุบููุฑ ูููุงุช ุงููุฑูุฑ ููุญุณุงุจุงุช ุงูุฅุฏุงุฑูุฉ ููุฑุงู
2. **ุงูุชุฑุชูุจ**: ููุณุชุฎุฏู `displayOrder` ูุชุฑุชูุจ ุงูุชุตูููุงุช ูู ุงููุงุฌูุฉ
3. **ุงูุฃููุงู**: ุชู ุงุฎุชูุงุฑ ุฃููุงู ูุชูุงุณูุฉ ูุน ูููุฉ ุณุจู
4. **ุงูุฃููููุงุช**: ูููู ุชุบููุฑ ุงูุฃููููุงุช ูู ุฎูุงู ุชุญุฏูุซ JSON ูู `description`

---

๐ **ุชุงุฑูุฎ ุงูุฅูุดุงุก**: ${new Date().toLocaleDateString('ar-SA')}
๐ง **ุงูุฅุตุฏุงุฑ**: 1.0.0
๐ **ุงููุณุคูู**: ูุฑูู ุชุทููุฑ Sabq AI CMS 